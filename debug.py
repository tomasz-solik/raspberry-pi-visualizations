########################################################################################################
# CONSOLE DEBUG TOOLS FRO VFX v1.0
########################################################################################################
import pygame
########################################################################################################
# custom
from libs import gpio, midi, osd, sound, vfx_system
from debug_tools import debug_midi, debug_sound, debug_gpio

########################################################################################################
# start & init
########################################################################################################
vfx = vfx_system.System()
########################################################################################################
osd.init(vfx)
sound.init(vfx)
midi.init(vfx)
gpio.init(vfx)
########################################################################################################
# debug tools
########################################################################################################
debug_midi.init(vfx)
debug_sound.init(vfx)
debug_gpio.init(vfx)

clock = pygame.time.Clock()
########################################################################################################
# main loop
########################################################################################################

option = input('Choose debug options[ 1 - MIDI | 2 - SND | 3 - GPIO | 0 - EXIT ]: ')
if(0 == option):
    exit()

while True:

    # recv & debug
    if(1 == option):
        midi.recv()
        debug_midi.debug()

    if (2 == option):
        sound.recv()
        debug_sound.debug()

    if (3 == option):
        gpio.recv()
        debug_gpio.debug()

    # limit fps 30 for cpu usage
    clock.tick(30)

    vfx.clear()
